---
source: crates/ruff_linter/src/rules/flake8_simplify/mod.rs
---
error[SIM115]: 8:5: Use a context manager for opening files

  --> SIM115.py:8:5
   |
 7 | # SIM115
 8 | f = open("foo.txt")
   |     ^^^^
 9 | f = Path("foo.txt").open()
10 | f = pathlib.Path("foo.txt").open()
   |
error[SIM115]: 9:5: Use a context manager for opening files

  --> SIM115.py:9:5
   |
 7 | # SIM115
 8 | f = open("foo.txt")
 9 | f = Path("foo.txt").open()
   |     ^^^^^^^^^^^^^^^^^^^^
10 | f = pathlib.Path("foo.txt").open()
11 | f = pl.Path("foo.txt").open()
   |
error[SIM115]: 10:5: Use a context manager for opening files

  --> SIM115.py:10:5
   |
 8 | f = open("foo.txt")
 9 | f = Path("foo.txt").open()
10 | f = pathlib.Path("foo.txt").open()
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
11 | f = pl.Path("foo.txt").open()
12 | f = P("foo.txt").open()
   |
error[SIM115]: 11:5: Use a context manager for opening files

  --> SIM115.py:11:5
   |
 9 | f = Path("foo.txt").open()
10 | f = pathlib.Path("foo.txt").open()
11 | f = pl.Path("foo.txt").open()
   |     ^^^^^^^^^^^^^^^^^^^^^^^
12 | f = P("foo.txt").open()
13 | data = f.read()
   |
error[SIM115]: 12:5: Use a context manager for opening files

  --> SIM115.py:12:5
   |
10 | f = pathlib.Path("foo.txt").open()
11 | f = pl.Path("foo.txt").open()
12 | f = P("foo.txt").open()
   |     ^^^^^^^^^^^^^^^^^
13 | data = f.read()
14 | f.close()
   |
error[SIM115]: 39:9: Use a context manager for opening files

  --> SIM115.py:39:9
   |
37 | # SIM115
38 | with contextlib.ExitStack():
39 |     f = open("filename")
   |         ^^^^
40 | 
41 | # OK
   |
error[SIM115]: 80:5: Use a context manager for opening files

  --> SIM115.py:80:5
   |
78 | import fileinput
79 | 
80 | f = tempfile.NamedTemporaryFile()
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^
81 | f = tempfile.TemporaryFile()
82 | f = tempfile.SpooledTemporaryFile()
   |
error[SIM115]: 81:5: Use a context manager for opening files

  --> SIM115.py:81:5
   |
80 | f = tempfile.NamedTemporaryFile()
81 | f = tempfile.TemporaryFile()
   |     ^^^^^^^^^^^^^^^^^^^^^^
82 | f = tempfile.SpooledTemporaryFile()
83 | f = tarfile.open("foo.tar")
   |
error[SIM115]: 82:5: Use a context manager for opening files

  --> SIM115.py:82:5
   |
80 | f = tempfile.NamedTemporaryFile()
81 | f = tempfile.TemporaryFile()
82 | f = tempfile.SpooledTemporaryFile()
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
83 | f = tarfile.open("foo.tar")
84 | f = TarFile("foo.tar").open()
   |
error[SIM115]: 83:5: Use a context manager for opening files

  --> SIM115.py:83:5
   |
81 | f = tempfile.TemporaryFile()
82 | f = tempfile.SpooledTemporaryFile()
83 | f = tarfile.open("foo.tar")
   |     ^^^^^^^^^^^^
84 | f = TarFile("foo.tar").open()
85 | f = tarfile.TarFile("foo.tar").open()
   |
error[SIM115]: 84:5: Use a context manager for opening files

  --> SIM115.py:84:5
   |
82 | f = tempfile.SpooledTemporaryFile()
83 | f = tarfile.open("foo.tar")
84 | f = TarFile("foo.tar").open()
   |     ^^^^^^^^^^^^^^^^^^^^^^^
85 | f = tarfile.TarFile("foo.tar").open()
86 | f = tarfile.TarFile().open()
   |
error[SIM115]: 85:5: Use a context manager for opening files

  --> SIM115.py:85:5
   |
83 | f = tarfile.open("foo.tar")
84 | f = TarFile("foo.tar").open()
85 | f = tarfile.TarFile("foo.tar").open()
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
86 | f = tarfile.TarFile().open()
87 | f = zipfile.ZipFile("foo.zip").open("foo.txt")
   |
error[SIM115]: 86:5: Use a context manager for opening files

  --> SIM115.py:86:5
   |
84 | f = TarFile("foo.tar").open()
85 | f = tarfile.TarFile("foo.tar").open()
86 | f = tarfile.TarFile().open()
   |     ^^^^^^^^^^^^^^^^^^^^^^
87 | f = zipfile.ZipFile("foo.zip").open("foo.txt")
88 | f = io.open("foo.txt")
   |
error[SIM115]: 87:5: Use a context manager for opening files

  --> SIM115.py:87:5
   |
85 | f = tarfile.TarFile("foo.tar").open()
86 | f = tarfile.TarFile().open()
87 | f = zipfile.ZipFile("foo.zip").open("foo.txt")
   |     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
88 | f = io.open("foo.txt")
89 | f = io.open_code("foo.txt")
   |
error[SIM115]: 88:5: Use a context manager for opening files

  --> SIM115.py:88:5
   |
86 | f = tarfile.TarFile().open()
87 | f = zipfile.ZipFile("foo.zip").open("foo.txt")
88 | f = io.open("foo.txt")
   |     ^^^^^^^
89 | f = io.open_code("foo.txt")
90 | f = codecs.open("foo.txt")
   |
error[SIM115]: 89:5: Use a context manager for opening files

  --> SIM115.py:89:5
   |
87 | f = zipfile.ZipFile("foo.zip").open("foo.txt")
88 | f = io.open("foo.txt")
89 | f = io.open_code("foo.txt")
   |     ^^^^^^^^^^^^
90 | f = codecs.open("foo.txt")
91 | f = bz2.open("foo.txt")
   |
error[SIM115]: 90:5: Use a context manager for opening files

  --> SIM115.py:90:5
   |
88 | f = io.open("foo.txt")
89 | f = io.open_code("foo.txt")
90 | f = codecs.open("foo.txt")
   |     ^^^^^^^^^^^
91 | f = bz2.open("foo.txt")
92 | f = gzip.open("foo.txt")
   |
error[SIM115]: 91:5: Use a context manager for opening files

  --> SIM115.py:91:5
   |
89 | f = io.open_code("foo.txt")
90 | f = codecs.open("foo.txt")
91 | f = bz2.open("foo.txt")
   |     ^^^^^^^^
92 | f = gzip.open("foo.txt")
93 | f = dbm.open("foo.db")
   |
error[SIM115]: 92:5: Use a context manager for opening files

  --> SIM115.py:92:5
   |
90 | f = codecs.open("foo.txt")
91 | f = bz2.open("foo.txt")
92 | f = gzip.open("foo.txt")
   |     ^^^^^^^^^
93 | f = dbm.open("foo.db")
94 | f = dbm.gnu.open("foo.db")
   |
error[SIM115]: 93:5: Use a context manager for opening files

  --> SIM115.py:93:5
   |
91 | f = bz2.open("foo.txt")
92 | f = gzip.open("foo.txt")
93 | f = dbm.open("foo.db")
   |     ^^^^^^^^
94 | f = dbm.gnu.open("foo.db")
95 | f = dbm.ndbm.open("foo.db")
   |
error[SIM115]: 94:5: Use a context manager for opening files

  --> SIM115.py:94:5
   |
92 | f = gzip.open("foo.txt")
93 | f = dbm.open("foo.db")
94 | f = dbm.gnu.open("foo.db")
   |     ^^^^^^^^^^^^
95 | f = dbm.ndbm.open("foo.db")
96 | f = dbm.dumb.open("foo.db")
   |
error[SIM115]: 95:5: Use a context manager for opening files

  --> SIM115.py:95:5
   |
93 | f = dbm.open("foo.db")
94 | f = dbm.gnu.open("foo.db")
95 | f = dbm.ndbm.open("foo.db")
   |     ^^^^^^^^^^^^^
96 | f = dbm.dumb.open("foo.db")
97 | f = lzma.open("foo.xz")
   |
error[SIM115]: 96:5: Use a context manager for opening files

  --> SIM115.py:96:5
   |
94 | f = dbm.gnu.open("foo.db")
95 | f = dbm.ndbm.open("foo.db")
96 | f = dbm.dumb.open("foo.db")
   |     ^^^^^^^^^^^^^
97 | f = lzma.open("foo.xz")
98 | f = lzma.LZMAFile("foo.xz")
   |
error[SIM115]: 97:5: Use a context manager for opening files

  --> SIM115.py:97:5
   |
95 | f = dbm.ndbm.open("foo.db")
96 | f = dbm.dumb.open("foo.db")
97 | f = lzma.open("foo.xz")
   |     ^^^^^^^^^
98 | f = lzma.LZMAFile("foo.xz")
99 | f = shelve.open("foo.db")
   |
error[SIM115]: 98:5: Use a context manager for opening files

   --> SIM115.py:98:5
    |
 96 | f = dbm.dumb.open("foo.db")
 97 | f = lzma.open("foo.xz")
 98 | f = lzma.LZMAFile("foo.xz")
    |     ^^^^^^^^^^^^^
 99 | f = shelve.open("foo.db")
100 | f = tokenize.open("foo.py")
    |
error[SIM115]: 99:5: Use a context manager for opening files

   --> SIM115.py:99:5
    |
 97 | f = lzma.open("foo.xz")
 98 | f = lzma.LZMAFile("foo.xz")
 99 | f = shelve.open("foo.db")
    |     ^^^^^^^^^^^
100 | f = tokenize.open("foo.py")
101 | f = wave.open("foo.wav")
    |
error[SIM115]: 100:5: Use a context manager for opening files

   --> SIM115.py:100:5
    |
 98 | f = lzma.LZMAFile("foo.xz")
 99 | f = shelve.open("foo.db")
100 | f = tokenize.open("foo.py")
    |     ^^^^^^^^^^^^^
101 | f = wave.open("foo.wav")
102 | f = tarfile.TarFile.taropen("foo.tar")
    |
error[SIM115]: 101:5: Use a context manager for opening files

   --> SIM115.py:101:5
    |
 99 | f = shelve.open("foo.db")
100 | f = tokenize.open("foo.py")
101 | f = wave.open("foo.wav")
    |     ^^^^^^^^^
102 | f = tarfile.TarFile.taropen("foo.tar")
103 | f = fileinput.input("foo.txt")
    |
error[SIM115]: 102:5: Use a context manager for opening files

   --> SIM115.py:102:5
    |
100 | f = tokenize.open("foo.py")
101 | f = wave.open("foo.wav")
102 | f = tarfile.TarFile.taropen("foo.tar")
    |     ^^^^^^^^^^^^^^^^^^^^^^^
103 | f = fileinput.input("foo.txt")
104 | f = fileinput.FileInput("foo.txt")
    |
error[SIM115]: 103:5: Use a context manager for opening files

   --> SIM115.py:103:5
    |
101 | f = wave.open("foo.wav")
102 | f = tarfile.TarFile.taropen("foo.tar")
103 | f = fileinput.input("foo.txt")
    |     ^^^^^^^^^^^^^^^
104 | f = fileinput.FileInput("foo.txt")
    |
error[SIM115]: 104:5: Use a context manager for opening files

   --> SIM115.py:104:5
    |
102 | f = tarfile.TarFile.taropen("foo.tar")
103 | f = fileinput.input("foo.txt")
104 | f = fileinput.FileInput("foo.txt")
    |     ^^^^^^^^^^^^^^^^^^^
105 | 
106 | with contextlib.suppress(Exception):
    |
error[SIM115]: 240:9: Use a context manager for opening files

   --> SIM115.py:240:9
    |
238 | def aliased():
239 |     from shelve import open as open_shelf
240 |     x = open_shelf("foo.dbm")
    |         ^^^^^^^^^^
241 |     x.close()
    |
error[SIM115]: 244:9: Use a context manager for opening files

   --> SIM115.py:244:9
    |
243 |     from tarfile import TarFile as TF
244 |     f = TF("foo").open()
    |         ^^^^^^^^^^^^^^
245 |     f.close()
    |
